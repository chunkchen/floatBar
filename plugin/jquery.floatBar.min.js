/*
 * floatBar v1.0
 * Copyright (c) 2013 Wendell  http://blog.webql.info/
 * https://github.com/wendellvian/floatBar.git
*/
!function(a){a.fn.extend({floatBar:function(b){function e(a){switch(b.middle){case"bottom":return d.data(a,parseInt(d.css(a))),d.data(a);case"top":return d.data(a,parseInt(d.css(a))),-1!=navigator.userAgent.indexOf("MSIE 6")&&d.data(a,parseInt(d.css("margin-top"))),d.data(a)}}function i(){var c,f,g,h,e={};if(e.oWinWidth=a(window).width(),e.oWinHeight=a(window).height(),e.oFloatElementWidth=d.width(),oWinTop=a(window).scrollTop(),f=(e.oWinWidth-b.bodyWidth)/2-e.oFloatElementWidth-b.spaceWidth,g=f+(b.bodyWidth+e.oWinWidth)/2+b.spaceWidth,h=g-(e.oWinWidth-b.bodyWidth)/2+e.oFloatElementWidth+b.spaceWidth,e.oWinWidth<=(e.oWinWidth-b.bodyWidth)/2+b.bodyWidth+e.oFloatElementWidth+b.spaceWidth){switch(b.align){case"right":c={right:"0"};break;case"left":c={right:g}}d.css(c)}else{switch(b.align){case"right":c={right:f};break;case"left":c={right:h}}d.css(c)}return b.moveOnOff?j(e):" ",e}function j(a){var c=function(a,c){switch(b.middle){case"bottom":b.aniOnOff?d.stop().animate(a,b.speed):d.css(a);break;case"top":b.aniOnOff?d.stop().animate(c,b.speed):d.css(c)}};-1!=navigator.userAgent.indexOf("MSIE 6")?oWinTop<b.liveHeight&&a.oWinHeight>b.winMinHeight?c({marginTop:"0"},{marginTop:g}):oWinTop<b.liveHeight&&a.oWinHeight<b.winMinHeight?c({marginTop:"0"},{marginTop:b.topFixHeight}):oWinTop>b.liveHeight&&a.oWinHeight>b.winMinHeight?c({marginTop:-f},{marginTop:b.topFixHeight}):oWinTop>b.liveHeight&&a.oWinHeight<b.winMinHeight&&c({marginTop:"0"},{marginTop:b.topFixHeight}):oWinTop<b.liveHeight&&a.oWinHeight>b.winMinHeight?c({bottom:"0"},{top:g}):oWinTop<b.liveHeight&&a.oWinHeight<b.winMinHeight?c({bottom:"0"},{top:b.topFixHeight}):oWinTop>b.liveHeight&&a.oWinHeight>b.winMinHeight?c({bottom:f},{top:b.topFixHeight}):oWinTop>b.liveHeight&&a.oWinHeight<b.winMinHeight&&c({bottom:"0"},{top:b.topFixHeight})}var d,f,g,h,c={liveHeight:360,bodyWidth:960,winMinHeight:600,topFixHeight:30,spaceWidth:10,align:"right",middle:"bottom",speed:300,aniOnOff:!0,moveOnOff:!0};return b=a.extend(c,b),d=a(this),f=e("bottom"),g=e("top"),h=i(),d.show(),a(window).resize(function(){i()}),a(window).scroll(function(){oWinTop=a(window).scrollTop(),b.moveOnOff?j(h):" "}),a(this)}})}(jQuery);
